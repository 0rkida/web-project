<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <script src="/js/logout.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/profile.css">

</head>
<body>
<div class="main-container">
    <!-- Left Sidebar -->
    <div class="sidebar left-sidebar">
        <div class="profile-section">
            <img src="/assets/img/user-uploads/albums/ <?php echo htmlspecialchars($userProfile['picture_path']); ?>" alt="Profile Picture" width="150">

            <div class="username-dropdown">
                <h3 class="username">
                    Emma Stone
                    <span class="dropdown-arrow">▼</span>
                </h3>
                <ul class="dropdown-menu">
                    <li><a href="/profil">Edit Profile</a></li>
                    <li><a href="/settings.html">Account Settings</a></li>
                    <li><a href="/logout.php">Logout</a></li>
                </ul>
            </div>
        </div>

        <nav>
            <ul class="menu">
                <li>
                    <a href="../chat.html">
                        <button class="menu-btn">Messages</button>
                    </a>
                </li>
                <li>
                    <a href="../notifications.html">
                        <button class="menu-btn">Notifications</button>
                    </a>
                </li>
                <li>
                    <a href="../matches.html">
                        <button class="menu-btn">Matchers</button>
                    </a>
                </li>

            </ul>
        </nav>

        <div class="recently-visited">
            <h4>Recently Visited</h4>
            <div class="avatars">
                <img src="user1.jpg" alt="User 1">
                <img src="user2.jpg" alt="User 2">
                <img src="user3.jpg" alt="User 3">
            </div>
        </div>
    </div>

    <!-- Middle Section -->
    <div class="profile-container">
        <header class="profile-header">
            <div class="profile-info">
                <img src="/assets/img/user-uploads/albums/<?php echo htmlspecialchars($userProfile['picture_path']); ?>" alt="Profile Picture" width="150">

                <div class="profile-text">
                    <h1 class="full_name">Emma Stone</h1>
                    <span class="location">25 • Scottsdale, United States</span>
                </div>
            </div>
            <button type="button" id="updateInfoBtn" class="profile-btn">Update Info</button>





        </header>
        <div class="content">
            <section class="summary">
                <h2>My self-summary</h2>
                <form action="update_profile.php" method="POST">
                    <label for="self-summary"></label><textarea name="self_summary" id="self-summary" rows="4" cols="50" placeholder="Write something about yourself..."></textarea>
                    <button type="submit" class="update-btn">Save Changes</button>
                </form>
            </section>

            <section class="photos">
                <h2>Photos</h2>
                <!-- Form for uploading profile picture -->
                <form id="upload-profile-form" action="/upload_profile_picture" method="POST" enctype="multipart/form-data">
                    <div class="photo-grid">
                        <input type="file" name="profile_picture[]" id="profile-pic-upload" accept="image/*" hidden>
                        <label for="profile-pic-upload" class="upload-btn">
                            <span class="plus">+</span> Upload Profile Picture
                        </label>
                    </div>
                    <button type="submit" class="update-btn">Save Profile Picture</button>
                </form>


                <!-- Form for uploading additional photos -->
                <form id="upload-additional-form" action="/upload_additional_pictures" method="POST" enctype="multipart/form-data">
                    <div class="photo-grid">
                        <input type="file" name="additional_pictures[]" id="additional-pictures-upload" multiple accept="image/*" hidden>
                        <label for="additional-pictures-upload" class="upload-btn">
                            <span class="plus">+</span> Upload Additional Photos
                        </label>
                    </div>
                    <button type="submit" class="update-btn">Save Additional Photos</button>
                </form>

            </section>

            <!-- Display uploaded photos -->
            <div class="photo-grid">
                <?php if (empty($photos)): ?>
                <p>No photos uploaded yet. Start uploading now!</p>
                <?php else: ?>
                <?php foreach ($photos as $photo): ?>
                <img src="/assets/img/user-uploads/albums/<?= htmlspecialchars($photo['picture_path']) ?>" alt="User Photo">
                <?php endforeach; ?>
                <?php endif; ?>
            </div>



            <section class="details">
                <h2>My Details</h2>
                <ul>
                    <li>
                        Hobby:
                        <label for="hobby"></label><textarea id="hobby" placeholder="Enter your hobby"></textarea>
                    </li>
                    <li>
                        Ethnicity:
                        <label for="ethnicity"></label><textarea id="ethnicity" placeholder="Enter your ethnicity"></textarea>
                    </li>
                    <li>
                        Profession:
                        <label for="profession"></label><textarea id="profession" placeholder="Enter your profession"></textarea>
                    </li>
                    <li>
                        Good At:
                        <label for="good-at"></label><textarea id="good-at" placeholder="Enter what you're good at"></textarea>
                    </li>
                    <li>
                        Height:
                        <label for="height"></label><textarea id="height" placeholder="Enter your height"></textarea>
                    </li>
                </ul>
                <button type="submit" onclick="saveChanges()" class="update-btn">Save Changes</button>
            </section>

        </div>
    </div>

    <!-- Right Sidebar -->
    <div class="sidebar right-sidebar">
        <img src="../assets/img/logo.png" height="300" width="300" alt="logo" class="premium-image"/>
        <div class="premium-section">
            <h2 class="premium-title">You're Invisible</h2>
            <p>In order to increase your visibility and remove ads, go Premium!</p>
            <button class="premium-btn" id="subscribeBtn">Go Premium</button>
        </div>
    </div>

</div>
<script src="../js/profile.js"></script>
<script src="../js/profile-upload.js"></script>

</body>
</html>
