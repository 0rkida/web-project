<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regjistrimi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="css/main.css">
    <style>
        .ghost {
            display: inline-block;
            padding: 10px 20px;
            font-size: 16px;
            text-decoration: none;
            color: white;
            background-color: #007BFF; /* Button color */
            border-radius: 5px;
            text-align: center;
            transition: background-color 0.3s ease;
        }

        .ghost:hover {
            background-color: #0056b3; /* Darker hover color */
        }

        .error {
            color: red;
            font-size: 0.9em;
            margin-top: 5px;
        }
    </style>
</head>
<body>
<div class="container registration-container">
    <div class="form-container sign-up-container">
        <form action="src/views/auth/register.php" method="POST">
            <!-- Logo Section -->
            <div class="logo-container">
                <img src="assets/img/logo.png" height="200" width="200" alt="logo"/>
            </div>
            <div class="overlay-panel overlay-right">
                <h1>Përshendetje !</h1>
                <p>Keni një llogari tek ne ?</p>
                <a href="login.html" class="ghost">Logohu</a>
            </div>
                <br>
                <h1>Le të krijojmë një llogari së bashku !</h1> <p> përdorni e-mailin tuaj për regjistrim </p>
            <!-- Existing fields -->
            <input type="text" placeholder="Emri juaj" required />
            <input type="email" placeholder="Emaili" required />
            <input type="password" placeholder="Password" required />

            <!-- New fields -->
            <input type="date" placeholder="Ditëlindja" required />
            <input type="text" placeholder="Vendndodhja" required />
            <input type="text" placeholder="Hobi juaj" required />

            <button type="submit">Regjistrohu</button>
        </form>


    </div>
</div>
<!-- JavaScript for Validation -->
<script>
    document.getElementById("registrationForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Prevent form submission

        let isValid = true;

        // Get input values
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value.trim();
        const dob = document.getElementById("dob").value.trim();
        const location = document.getElementById("location").value.trim();
        const hobby = document.getElementById("hobby").value.trim();

        // Clear previous error messages
        document.querySelectorAll(".error").forEach(el => el.remove());

        // Name validation
        if (name.length < 2) {
            showError("name", "Emri duhet të ketë të paktën 2 karaktere.");
            isValid = false;
        }

        // Email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            showError("email", "Ju lutem futni një email të vlefshëm.");
            isValid = false;
        }

        // Password validation
        if (password.length < 8) {
            showError("password", "Passwordi duhet të ketë të paktën 8 karaktere.");
            isValid = false;
        }

        // Date of Birth validation
        if (!dob) {
            showError("dob", "Ju lutem zgjidhni një datë lindjeje.");
            isValid = false;
        }

        // Location validation
        if (location.length < 3) {
            showError("location", "Vendndodhja duhet të ketë të paktën 3 karaktere.");
            isValid = false;
        }

        // Hobby validation
        if (hobby.length < 3) {
            showError("hobby", "Hobi duhet të ketë të paktën 3 karaktere.");
            isValid = false;
        }

        // Submit if all fields are valid
        if (isValid) {
            alert("Regjistrimi u krye me sukses!");
            this.submit();
        }
    });

    function showError(inputId, message) {
        const inputField = document.getElementById(inputId);
        const errorDiv = document.createElement("div");
        errorDiv.className = "error";
        errorDiv.textContent = message;
        inputField.parentNode.insertBefore(errorDiv, inputField.nextSibling);
    }
</script>
</body>
</html>
